<!DOCTYPE html>
<html>
<head>
<title>账户</title>
<link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="js/jquery-1.11.0.min.js"></script>
<script src="js/login.js"></script>
<!-- Custom Theme files -->
<!--theme-style-->
<link href="css/style.css" rel="stylesheet" type="text/css" media="all" />	
<!--//theme-style-->
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Free Style Responsive web template, Bootstrap Web Templates, Flat Web Templates, Andriod Compatible web template, 
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyErricsson, Motorola web design" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<!--fonts-->
<link href='#css?family=Alegreya+Sans+SC:100,300,400,500,700,800,900,100italic,300italic,400italic,500italic,700italic,800italic,900italic' rel='stylesheet' type='text/css'>
<link href='#css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic' rel='stylesheet' type='text/css'>
<!--//fonts-->
<script type="text/javascript" src="js/move-top.js"></script>
<script type="text/javascript" src="js/easing.js"></script>
<script type="text/javascript">
    jQuery(document).ready(function($) {
        $(".scroll").click(function(event){		
            event.preventDefault();
            $('html,body').animate({scrollTop:$(this.hash).offset().top},1000);
        });
        
        // 添加切换功能
        $("#showLogin").click(function(){
            $("#loginForm").show();
            $("#registerForm").hide();
            return false;
        });
        
        $("#showRegister").click(function(){
            $("#registerForm").show();
            $("#loginForm").hide();
            return false;
        });
        
        // 默认显示登录表单
        $("#registerForm").hide();
    });
</script>	
<!-- start menu -->
<script src="js/simpleCart.min.js"> </script>
<script src="js/cart-config.js"></script>
<link href="css/memenu.css" rel="stylesheet" type="text/css" media="all" />
<script type="text/javascript" src="js/memenu.js"></script>
<script type="text/javascript" src="js/login-status.js"></script>
<script>$(document).ready(function(){$(".memenu").memenu();});</script>				
<style>
.message {
    display: none;
    padding: 10px;
    margin: 10px 0;
    border-radius: 4px;
}

.message.success {
    display: block;
    color: #155724;
    background-color: #d4edda;
    border: 1px solid #c3e6cb;
}

.message.error {
    display: block;
    color: #721c24;
    background-color: #f8d7da;
    border: 1px solid #f5c6cb;
}

.address input[type="text"],
.address input[type="email"],
.address input[type="tel"],
.address input[type="password"] {
    width: 100%;
    padding: 8px;
    margin-top: 5px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 14px;
}

.address {
    margin-bottom: 15px;
}

.address span {
    display: block;
    margin-bottom: 5px;
    font-size: 14px;
}

.address input[type="submit"] {
    padding: 10px 30px;
    font-size: 14px;
}
</style>
</head>
<body> 
	<!--top-header-->
	<div class="top-header">
	<div class="container">
		<div class="top-header-main">
			<div class="col-md-4 top-header-left">
				<div class="search-bar">
					<input type="text" value="搜索" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = '搜索';}">
					<input type="submit" value="">
				</div>
			</div>
			<div class="col-md-4 top-header-middle">
				<a href="index.html"><img src="images/logo-4.png" alt="" /></a>
			</div>
			<div class="col-md-4 top-header-right">
				<div class="cart box_1" style="float: left;">
						<a href="checkout.html">
						<h3> <div class="total">
							<span class="simpleCart_total"></span> (<span id="simpleCart_quantity" class="simpleCart_quantity"></span> 件商品)</div>
							<img src="images/cart-1.png" alt=""/></h3>
						</a>
						<p><a href="javascript:;" onclick="clearCart()">清空购物车</a></p>
						<div class="clearfix"> </div>
					</div>
			</div>
			<div class="clearfix"></div>
		</div>
	</div>
</div>
<!--top-header-->
<!--bottom-header-->
	<div class="header-bottom">
		<div class="container">
			<div class="top-nav">
				<ul class="memenu skyblue">
					<li class="active"><a href="index.html">首页</a></li>
					<li class="grid"><a href="#">商店</a>
						<div class="mepanel">
							<div class="row">
								<div class="col1 me-one">
									<h4>商店</h4>
									<ul>
										<li><a href="products.html">新品到达</a></li>
										<li><a href="products.html">男装</a></li>
										<li><a href="products.html">女装</a></li>
										<li><a href="products.html">配饰</a></li>
										<li><a href="products.html">儿童</a></li>
										<li><a href="products.html">品牌</a></li>
									</ul>
								</div>
								<div class="col1 me-one">
									<h4>样式</h4>
									<ul>
										<li><a href="products.html">男士</a></li>
										<li><a href="products.html">女士</a></li>
										<li><a href="products.html">品牌</a></li>
										<li><a href="products.html">儿童</a></li>
										<li><a href="products.html">配饰</a></li>
									</ul>	
								</div>
								<div class="col1 me-one">
									<h4>热门品牌</h4>
									<ul>
										<li><a href="products.html">李宁</a></li>
										<li><a href="products.html">adidas</a></li>
										<li><a href="products.html">Nike</a></li>
										<li><a href="products.html">安踏</a></li>
										<li><a href="products.html">鸿星尔克</a></li>
										<li><a href="products.html">Jordan</a></li>
										<li><a href="products.html">BYLEN</a></li>
										<li><a href="products.html">BALMAIN</a></li>
									</ul>	
								</div>
							</div>
						</div>
					</li>
					<li class="grid"><a href="#">男装</a>
						<div class="mepanel">
							<div class="row">
								<div class="col1 me-one">
									<h4>商店</h4>
									<ul>
										<li><a href="products.html">新品到达</a></li>
										<li><a href="products.html">男装</a></li>
										<li><a href="products.html">女装</a></li>
										<li><a href="products.html">配饰</a></li>
										<li><a href="products.html">儿童</a></li>
										<li><a href="products.html">品牌</a></li>
									</ul>
								</div>
								<div class="col1 me-one">
									<h4>大众品牌</h4>
									<ul>
										<li><a href="products.html">李宁</a></li>
										<li><a href="products.html">adidas</a></li>
										<li><a href="products.html">Nike</a></li>
										<li><a href="products.html">安踏</a></li>
									</ul>
								</div>
								<div class="col1 me-one">
									<h4>奢侈品牌</h4>
									<ul>
										<li><a href="products.html">鸿星尔克</a></li>
										<li><a href="products.html">Jordan</a></li>
										<li><a href="products.html">BYLEN</a></li>
										<li><a href="products.html">BALMAIN</a></li>
									</ul>	
								</div>
							</div>
						</div>
					</li>
					<li class="grid"><a href="#">女装</a>
						<div class="mepanel">
							<div class="row">
								<div class="col1 me-one">
									<h4>商店</h4>
									<ul>
										<li><a href="products.html">新品到达</a></li>
										<li><a href="products.html">男装</a></li>
										<li><a href="products.html">女装</a></li>
										<li><a href="products.html">配饰</a></li>
										<li><a href="products.html">儿童</a></li>
										<li><a href="products.html">品牌</a></li>
									</ul>
								</div>
								<div class="col1 me-one">
									<h4>大众品牌</h4>
									<ul>
										<li><a href="products.html">李宁</a></li>
										<li><a href="products.html">adidas</a></li>
										<li><a href="products.html">Nike</a></li>
										<li><a href="products.html">安踏</a></li>
									</ul>
								</div>
								<div class="col1 me-one">
									<h4>奢侈品牌</h4>
									<ul>
										<li><a href="products.html">鸿星尔克</a></li>
										<li><a href="products.html">Jordan</a></li>
										<li><a href="products.html">BYLEN</a></li>
										<li><a href="products.html">BALMAIN</a></li>
									</ul>	
								</div>
							</div>
						</div>
					</li>
					<li class="grid"><a href="#">品牌</a>
						<div class="mepanel">
							<div class="row">
								<div class="col1 me-one">
									<h4>商店</h4>
									<ul>
										<li><a href="products.html">新品到达</a></li>
										<li><a href="products.html">男装</a></li>
										<li><a href="products.html">女装</a></li>
										<li><a href="products.html">配饰</a></li>
										<li><a href="products.html">儿童</a></li>
										<li><a href="products.html">品牌</a></li>
									</ul>
								</div>
								<div class="col1 me-one">
									<h4>样式</h4>
									<ul>
										<li><a href="products.html">男士</a></li>
										<li><a href="products.html">女士</a></li>
										<li><a href="products.html">品牌</a></li>
										<li><a href="products.html">儿童</a></li>
										<li><a href="products.html">配饰</a></li>
									</ul>	
								</div>
								<div class="col1 me-one">
									<h4>热门品牌</h4>
									<ul>
										<li><a href="products.html">李宁</a></li>
										<li><a href="products.html">adidas</a></li>
										<li><a href="products.html">Nike</a></li>
										<li><a href="products.html">安踏</a></li>
										<li><a href="products.html">鸿星尔克</a></li>
										<li><a href="products.html">Jordan</a></li>
										<li><a href="products.html">BYLEN</a></li>
										<li><a href="products.html">BALMAIN</a></li>
									</ul>	
								</div>
							</div>
						</div>
					</li>
				</ul>
			</div>
			<div class="clearfix"> </div>
		</div>
	</div>
	<!--bottom-header-->
	<!--start-breadcrumbs-->
	<div class="breadcrumbs">
		<div class="container">
			<div class="breadcrumbs-main">
				<ol class="breadcrumb">
					<li><a href="index.html">首页</a></li>
					<li class="active">账户</li>
				</ol>
			</div>
		</div>
	</div>
	<!--end-breadcrumbs-->
	<!--start-account-->
	<div class="account">
		<div class="container"> 
			<div class="account-bottom">
				<!-- 注册表单 -->
				<div class="col-md-6 account-left" id="registerForm">
					<form id="registerForm" onsubmit="return register(event)">
						<div class="account-top heading">
							<h3>新用户注册</h3>
						</div>
						<div class="message" id="registerMessage"></div>
						<div class="address">
							<span>用户名</span>
							<input type="text" id="registerName" name="name" required>
						</div>
						<div class="address">
							<span>邮箱</span>
							<input type="email" id="registerEmail" name="email" required>
						</div>
						<div class="address">
							<span>手机号</span>
							<input type="tel" id="registerPhone" name="phone" required>
						</div>
						<div class="address">
							<span>密码</span>
							<input type="password" id="registerPassword" name="password" required>
						</div>
						<div class="address">
							<span>确认密码</span>
							<input type="password" id="registerConfirmPassword" name="confirmPassword" required>
						</div>
						<div class="address new">
							<input type="submit" value="注册">
						</div>
						<div class="address">
							<p style="text-align: center; margin-top: 20px;">已有账号？<a href="#" id="showLogin">立即登录</a></p>
						</div>
					</form>
				</div>
				
				<!-- 登录表单 -->
				<div class="col-md-6 account-left" id="loginForm">
					<form>
						<div class="account-top heading">
							<h3>用户登录</h3>
						</div>
						<div class="message" id="loginMessage"></div>
						<div class="address">
							<span>账号类型</span>
							<select id="accountType" style="width: 100%; padding: 8px;">
								<option value="user">普通用户</option>
								<option value="admin">管理员</option>
							</select>
						</div>
						<div class="address">
							<span>电子邮箱</span>
							<input type="text" id="loginEmail">
						</div>
						<div class="address">
							<span>密码</span>
							<input type="password" id="loginPassword">
						</div>
						<div class="address">
							<input type="submit" value="登录" style="margin-top: 0;" onclick="handleLogin(event)">
						</div>
						<div class="address">
							<p style="text-align: center; margin-top: 20px;">还没有账号？<a href="#" id="showRegister">立即注册</a></p>
						</div>
					</form>
				</div>
				<div class="clearfix"> </div>
			</div>
		</div>
	</div>
	<!--end-account-->
	<!--start-footer-->
	<div class="footer">
		<div class="container">
			<div class="footer-top">
				<div class="col-md-4 footer-left" style="text-align: center;">
					<h3>关于我们</h3>
					<ul style="padding: 0;">
						<li><a href="#">我们是谁</a></li>
						<li><a href="contact.html">联系我们</a></li>
						<li><a href="#">我们的网站</a></li>
						<li><a href="#">新闻动态</a></li>
						<li><a href="#">团队</a></li>
						<li><a href="#">招贤纳士</a></li>					 
					</ul>
				</div>
				<div class="col-md-4 footer-left" style="text-align: center;">
					<h3>客户服务</h3>
					<ul style="padding: 0;">
						<li><a href="#">常见问题</a></li>
						<li><a href="#">配送信息</a></li>
						<li><a href="#">取消订单</a></li>
						<li><a href="#">退换货</a></li>
						<li><a href="#">批发订单</a></li>
						<li><a href="#">购买指南</a></li>					 
					</ul>
				</div>
				<div class="col-md-4 footer-left" style="text-align: center;">
					<h3>商品分类</h3>
					<ul style="padding: 0;">
						<li><a href="#">运动鞋</a></li>
						<li><a href="#">休闲鞋</a></li>
						<li><a href="#">正装鞋</a></li>
						<li><a href="#">派对鞋</a></li>
						<li><a href="#">民族风格</a></li>				 
					</ul>
				</div>
				<div class="clearfix"> </div>
			</div>
		</div>
	</div>
	<!--end-footer-->
	<!--end-footer-text-->
	<div class="footer-text">
		<div class="container">
			<div class="footer-main">
				<p class="footer-class">Copyright &copy; 2024 商城名称 All rights reserved.</p>
			</div>
		</div>
		<script type="text/javascript">
									$(document).ready(function() {
										/*
										var defaults = {
								  			containerID: 'toTop', // fading element id
											containerHoverID: 'toTopHover', // fading element hover id
											scrollSpeed: 1200,
											easingType: 'linear' 
								 		};
										*/
										
										$().UItoTop({ easingType: 'easeOutQuart' });
										
									});
								</script>
		<a href="#home" id="toTop" class="scroll" style="display: block;"> <span id="toTopHover" style="opacity: 1;"> </span></a>
	</div>
	<!--end-footer-text-->	
	<script>
	// 显示提示信息的函数
	function showMessage(elementId, message, type) {
		const messageDiv = document.getElementById(elementId);
		messageDiv.textContent = message;
		messageDiv.className = 'message ' + type;
		// 3秒后自动隐藏
		setTimeout(() => {
			messageDiv.className = 'message';
			messageDiv.textContent = '';
		}, 3000);
	}

	// 处理注册
	function register(event) {
		event.preventDefault();
		
		const email = document.getElementById('registerEmail').value;
		const password = document.getElementById('registerPassword').value;
		const confirmPassword = document.getElementById('registerConfirmPassword').value;
		const name = document.getElementById('registerName').value;
		const phone = document.getElementById('registerPhone').value;
		
		// 验证两次密码是否一致
		if(password !== confirmPassword) {
			showMessage('registerMessage', '两次输入的密码不一致', 'error');
			return false;
		}
		
		// 检查邮箱是否已注册
		const users = JSON.parse(localStorage.getItem('users') || '[]');
		if(users.find(u => u.email === email)) {
			showMessage('registerMessage', '该邮箱已注册', 'error');
			return false;
		}
		
		// 创建新用户
		const newUser = {
			id: 'U' + Date.now(),  // 生成唯一ID
			email: email,
			password: password,
			name: name,
			phone: phone,
			registerTime: new Date().toISOString()
		};
		
		// 保存用户信息
		users.push(newUser);
		localStorage.setItem('users', JSON.stringify(users));
		
		showMessage('registerMessage', '注册成功！请登录', 'success');
		// 清空注册表单
		document.getElementById('registerForm').reset();
		// 触发登录链接的点击事件
		setTimeout(() => {
			document.getElementById('showLogin').click();
		}, 1000);
		return true;
	}

	// 处理登录
	document.querySelector('#loginForm form').onsubmit = function(e) {
		e.preventDefault();
		
		// 获取表单数据
		const email = this.querySelector('input[type="text"]').value;
		const password = this.querySelector('input[type="password"]').value;
		
		// 获取用户列表
		const users = JSON.parse(localStorage.getItem('users') || '[]');
		
		// 验证用户
		const user = users.find(u => u.email === email && u.password === password);
		
		if(user) {
			// 保存登录状态
			localStorage.setItem('currentUser', JSON.stringify(user));
			showMessage('loginMessage', '登录成功！', 'success');
			setTimeout(() => {
				window.location.href = 'index.html';
			}, 1000);
		} else {
			showMessage('loginMessage', '邮箱或密码错误', 'error');
		}
		return false;
	};

	// 检查登录状态并更新按钮
	function updateLoginButton() {
		const currentUser = JSON.parse(localStorage.getItem('currentUser'));
		const loginBtn = document.querySelector('.cart.box_1 a[href="account.html"]');
		
		if(currentUser && loginBtn) {
			loginBtn.querySelector('.total').innerHTML = `
				<img src="images/cart-1.png" alt="" style="width: 20px; vertical-align: middle;"/>
				<span style="vertical-align: middle;">个人中心</span>
			`;
		}
	}

	// 页面加载时检查登录状态
	document.addEventListener('DOMContentLoaded', updateLoginButton);
	</script>
</body>
</html>